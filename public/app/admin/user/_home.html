<div class="ui small breadcrumb">
    <a class="section">Admin</a>
    <i class="right chevron icon divider"></i>
    <div class="active section">User</div>
</div>
<h2>Users Management</h2>
<div class="colum">
    <div class="two column row" style="padding: 0px;">
        <div class="left floated column">
            <div ui-sref="add" class="ui primary button">
                Add User
            </div>
        </div>
    </div>
</div>
<table class="ui celled striped table">
    <thead>
    <tr>
        <th class="center aligned one wide">ID</th>
        <th class="center aligned two wide">E-Mail</th>
        <th class="center aligned four wide">Faculty</th>
        <th class="center aligned wide">Roles</th>
        <th class="center aligned two wide">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="user in users">
        <td class="collapsing" ng-bind="user.id"></td>
        <td ng-bind="user.email"></td>
        <td ng-bind="user.faculty.name_th"></td>
        <td>
            <div class="ui label" ng-repeat="role in user.roles">
                {{role.name}}
            </div>
        </td>
        <td class="center aligned collapsing">
            <div class="ui buttons">
                <button class="ui icon button" ui-sref="edit({id:user.id})">
                    <i class="edit icon"></i>
                </button>
                <button ng-click="showDeleteModal(user)" class="ui icon negative button">
                    <i class="delete icon"></i>
                </button>
            </div>
        </td>
    </tr>
    </tbody>
</table>

<modal ng-model="delete_modal">
    <i ng-click="closeDeleteModal()" class="close icon"></i>
    <div class="header">
        Delete User
    </div>
    <div class="content">
        <div class="ui medium image">
            <img src="/images/square-image.png">
        </div>
        <div class="description">
            <div class="ui header">Do you want to delete this user?</div>
            <p>User ID : <span ng-bind="user.id"></span></p>
            <p ng-bind="user.email"></p>
        </div>
    </div>
    <div class="actions">
        <div class="ui black button" ng-click="ajaxDelete(null,false)">
            No
        </div>
        <div class="ui positive right labeled icon button" ng-click="ajaxDelete(user,true)">
            Yes
            <i class="checkmark icon"></i>
        </div>
    </div>
</modal>
